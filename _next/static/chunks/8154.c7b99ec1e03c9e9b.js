!function(){var e,t,r,n,i,o,a={62601:function(e,t,r){"use strict";var n,i;e.exports=(null==(n=r.g.process)?void 0:n.env)&&"object"==typeof(null==(i=r.g.process)?void 0:i.env)?r.g.process:r(58960)},58960:function(e){!function(){var t={229:function(e){var t,r,n,i=e.exports={};function o(){throw Error("setTimeout has not been defined")}function a(){throw Error("clearTimeout has not been defined")}function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var l=[],c=!1,u=-1;function d(){c&&n&&(c=!1,n.length?l=n.concat(l):u=-1,l.length&&f())}function f(){if(!c){var e=s(d);c=!0;for(var t=l.length;t;){for(n=l,l=[];++u<t;)n&&n[u].run();u=-1,t=l.length}n=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new p(e,t)),1!==l.length||c||s(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw Error("process.chdir is not supported")},i.umask=function(){return 0}}},r={};function n(e){var i=r[e];if(void 0!==i)return i.exports;var o=r[e]={exports:{}},a=!0;try{t[e](o,o.exports,n),a=!1}finally{a&&delete r[e]}return o.exports}n.ab="//";var i=n(229);e.exports=i}()},52543:function(e){self,e.exports=(()=>{"use strict";let e;var t={d:(e,r)=>{for(var n in r)t.o(r,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},r={};t.r(r),t.d(r,{isServiceWorkerRequest:()=>a,serviceWorkerFetchListener:()=>s,asyncSleep:()=>l,ServiceWorkerError:()=>c,writeMessageAtomics:()=>u,writeMessageServiceWorker:()=>d,writeMessage:()=>f,makeChannel:()=>p,makeAtomicsChannel:()=>m,makeServiceWorkerChannel:()=>y,readMessage:()=>h,syncSleep:()=>g,uuidv4:()=>e});var n=function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})};let i="__SyncMessageServiceWorkerInput__",o="__sync-message-v2__";function a(e){return"string"!=typeof e&&(e=e.request.url),e.includes(i)}function s(){let e={},t={};return r=>{let{url:i}=r.request;return!!a(i)&&(r.respondWith(function(){return n(this,void 0,void 0,function*(){function n(e){return new Response(JSON.stringify({message:e,version:o}),{status:200})}if(i.endsWith("/read")){let{messageId:i,timeout:o}=yield r.request.json();if(i in e){let t=e[i];return delete e[i],n(t)}return yield new Promise(e=>{t[i]=e,setTimeout(function(){delete t[i],e(new Response("",{status:408}))},o)})}if(i.endsWith("/write")){let{message:i,messageId:o}=yield r.request.json(),a=t[o];return a?(a(n(i)),delete t[o]):e[o]=i,n({early:!a})}if(i.endsWith("/version"))return new Response(o,{status:200})})}()),!0)}}function l(e){return new Promise(t=>setTimeout(t,e))}class c extends Error{constructor(e,t){super(`Received status ${t} from ${e}. Ensure the service worker is registered and active.`),this.url=e,this.status=t,this.type="ServiceWorkerError",Object.setPrototypeOf(this,c.prototype)}}function u(e,t){let r=(new TextEncoder).encode(JSON.stringify(t)),{data:n,meta:i}=e;if(r.length>n.length)throw Error("Message is too big, increase bufferSize when making channel.");n.set(r,0),Atomics.store(i,0,r.length),Atomics.store(i,1,1),Atomics.notify(i,1)}function d(e,t,r){return n(this,void 0,void 0,function*(){yield navigator.serviceWorker.ready;let n=e.baseUrl+"/write",i=Date.now();for(;;){let a={message:t,messageId:r},s=yield fetch(n,{method:"POST",body:JSON.stringify(a)});if(200===s.status&&(yield s.json()).version===o)return;if(!(Date.now()-i<e.timeout))throw new c(n,s.status);yield l(100)}})}function f(e,t,r){return n(this,void 0,void 0,function*(){"atomics"===e.type?u(e,t):yield d(e,t,r)})}function p(e={}){return"undefined"!=typeof SharedArrayBuffer?m(e.atomics):"serviceWorker"in navigator?y(e.serviceWorker):null}function m({bufferSize:e}={}){return{type:"atomics",data:new Uint8Array(new SharedArrayBuffer(e||131072)),meta:new Int32Array(new SharedArrayBuffer(2*Int32Array.BYTES_PER_ELEMENT))}}function y(e={}){return{type:"serviceWorker",baseUrl:(e.scope||"/")+i,timeout:e.timeout||5e3}}function h(e,t,{checkInterrupt:r,checkTimeout:n,timeout:i}={}){var a,s;let l;let u=performance.now();n=(a=n)>0?+a:r?100:5e3;let d=(s=Number.POSITIVE_INFINITY,i>0?+i:s);if("atomics"===e.type){let{data:t,meta:r}=e;l=()=>{if("timed-out"===Atomics.wait(r,1,0,n))return null;{let e=Atomics.exchange(r,0,0),n=t.slice(0,e);Atomics.store(r,1,0);let i=(new TextDecoder).decode(n);return JSON.parse(i)}}}else l=()=>{let r=new XMLHttpRequest,i=e.baseUrl+"/read";r.open("POST",i,!1);let a={messageId:t,timeout:n};r.send(JSON.stringify(a));let{status:s}=r;if(408===s)return null;if(200===s){let e=JSON.parse(r.responseText);return e.version!==o?null:e.message}if(performance.now()-u<e.timeout)return null;throw new c(i,s)};for(;;){let e=d-(performance.now()-u);if(e<=0)return null;n=Math.min(n,e);let t=l();if(null!==t)return t;if(null==r?void 0:r())return null}}function g(t,r){var n;if(t=(n=t)>0?+n:0){if("undefined"!=typeof SharedArrayBuffer){let e=new Int32Array(new SharedArrayBuffer(Int32Array.BYTES_PER_ELEMENT));e[0]=0,Atomics.wait(e,0,0,t)}else h(r,`sleep ${t} ${e()}`,{timeout:t})}}return e="randomUUID"in crypto?function(){return crypto.randomUUID()}:function(){return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,e=>{let t=Number(e);return(t^crypto.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16)})},r})()}},s={};function l(e){var t=s[e];if(void 0!==t)return t.exports;var r=s[e]={exports:{}},n=!0;try{a[e](r,r.exports,l),n=!1}finally{n&&delete s[e]}return r.exports}l.m=a,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},l.t=function(r,n){if(1&n&&(r=this(r)),8&n||"object"==typeof r&&r&&(4&n&&r.__esModule||16&n&&"function"==typeof r.then))return r;var i=Object.create(null);l.r(i);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&n&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach(function(e){o[e]=function(){return r[e]}});return o.default=function(){return r},l.d(i,o),i},l.d=function(e,t){for(var r in t)l.o(t,r)&&!l.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},l.f={},l.e=function(e){return Promise.all(Object.keys(l.f).reduce(function(t,r){return l.f[r](e,t),t},[]))},l.u=function(e){return"static/chunks/"+e+"."+({50:"eeb0fb3187c0a48f",692:"00d45cc8ead4d342",949:"f0c2e3e5bf0a6432",1772:"1f3891e1eda17cea",2488:"203a5ddd587459a7",3200:"88c9098558934667",5401:"3eefd72725aef6d7",6406:"1fc54651ca371d0f",7950:"b36760afd5843af4"})[e]+".js"},l.miniCssF=function(e){},l.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}}(),l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.tt=function(){return void 0===r&&(r={createScriptURL:function(e){return e}},"undefined"!=typeof trustedTypes&&trustedTypes.createPolicy&&(r=trustedTypes.createPolicy("nextjs#bundler",r))),r},l.tu=function(e){return l.tt().createScriptURL(e)},l.p="/_next/",n={8154:1},l.f.i=function(e,t){n[e]||importScripts(l.tu(l.p+l.u(e)))},o=(i=self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push.bind(i),i.push=function(e){var t=e[0],r=e[1],i=e[2];for(var a in r)l.o(r,a)&&(l.m[a]=r[a]);for(i&&i(l);t.length;)n[t.pop()]=1;o(e)},function(){"use strict";let e,t,r,n,i,o,a,s,c,u,d,f,p,m;var y=l(52543),h=l(62601);"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var g,v,b,w,_={exports:{}};_.exports=function(){function e(e){return e.charAt(0).toUpperCase()+e.substring(1)}function t(e){return function(){return this[e]}}var r=["isConstructor","isEval","isNative","isToplevel"],n=["columnNumber","lineNumber"],i=["fileName","functionName","source"],o=r.concat(n,i,["args"],["evalOrigin"]);function a(t){if(t)for(var r=0;r<o.length;r++)void 0!==t[o[r]]&&this["set"+e(o[r])](t[o[r]])}a.prototype={getArgs:function(){return this.args},setArgs:function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw TypeError("Args must be an Array");this.args=e},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(e){if(e instanceof a)this.evalOrigin=e;else{if(!(e instanceof Object))throw TypeError("Eval Origin must be an Object or StackFrame");this.evalOrigin=new a(e)}},toString:function(){var e=this.getFileName()||"",t=this.getLineNumber()||"",r=this.getColumnNumber()||"",n=this.getFunctionName()||"";return this.getIsEval()?e?"[eval] ("+e+":"+t+":"+r+")":"[eval]:"+t+":"+r:n?n+" ("+e+":"+t+":"+r+")":e+":"+t+":"+r}},a.fromString=function(e){var t=e.indexOf("("),r=e.lastIndexOf(")"),n=e.substring(0,t),i=e.substring(t+1,r).split(","),o=e.substring(r+1);if(0===o.indexOf("@"))var s=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(o,""),l=s[1],c=s[2],u=s[3];return new a({functionName:n,args:i||void 0,fileName:l,lineNumber:c||void 0,columnNumber:u||void 0})};for(var s=0;s<r.length;s++)a.prototype["get"+e(r[s])]=t(r[s]),a.prototype["set"+e(r[s])]=function(e){return function(t){this[e]=!!t}}(r[s]);for(var l=0;l<n.length;l++)a.prototype["get"+e(n[l])]=t(n[l]),a.prototype["set"+e(n[l])]=function(e){return function(t){if(!(!isNaN(parseFloat(t))&&isFinite(t)))throw TypeError(e+" must be a Number");this[e]=Number(t)}}(n[l]);for(var c=0;c<i.length;c++)a.prototype["get"+e(i[c])]=t(i[c]),a.prototype["set"+e(i[c])]=function(e){return function(t){this[e]=String(t)}}(i[c]);return a}();var E={exports:{}}.exports=(g=_.exports,v=/(^|@)\S+:\d+/,b=/^\s*at .*(\S+:\d+|\(native\))/m,w=/^(eval@)?(\[native code])?$/,{parse:function(e){if(void 0!==e.stacktrace||void 0!==e["opera#sourceloc"])return this.parseOpera(e);if(e.stack&&e.stack.match(b))return this.parseV8OrIE(e);if(e.stack)return this.parseFFOrSafari(e);throw Error("Cannot parse given Error object")},extractLocation:function(e){if(-1===e.indexOf(":"))return[e];var t=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(e.replace(/[()]/g,""));return[t[1],t[2]||void 0,t[3]||void 0]},parseV8OrIE:function(e){return e.stack.split("\n").filter(function(e){return!!e.match(b)},this).map(function(e){e.indexOf("(eval ")>-1&&(e=e.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(,.*$)/g,""));var t=e.replace(/^\s+/,"").replace(/\(eval code/g,"(").replace(/^.*?\s+/,""),r=t.match(/ (\(.+\)$)/);t=r?t.replace(r[0],""):t;var n=this.extractLocation(r?r[1]:t),i=r&&t||void 0,o=["eval","<anonymous>"].indexOf(n[0])>-1?void 0:n[0];return new g({functionName:i,fileName:o,lineNumber:n[1],columnNumber:n[2],source:e})},this)},parseFFOrSafari:function(e){return e.stack.split("\n").filter(function(e){return!e.match(w)},this).map(function(e){if(e.indexOf(" > eval")>-1&&(e=e.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),-1===e.indexOf("@")&&-1===e.indexOf(":"))return new g({functionName:e});var t=/((.*".+"[^@]*)?[^@]*)(?:@)/,r=e.match(t),n=r&&r[1]?r[1]:void 0,i=this.extractLocation(e.replace(t,""));return new g({functionName:n,fileName:i[0],lineNumber:i[1],columnNumber:i[2],source:e})},this)},parseOpera:function(e){return!e.stacktrace||e.message.indexOf("\n")>-1&&e.message.split("\n").length>e.stacktrace.split("\n").length?this.parseOpera9(e):e.stack?this.parseOpera11(e):this.parseOpera10(e)},parseOpera9:function(e){for(var t=/Line (\d+).*script (?:in )?(\S+)/i,r=e.message.split("\n"),n=[],i=2,o=r.length;i<o;i+=2){var a=t.exec(r[i]);a&&n.push(new g({fileName:a[2],lineNumber:a[1],source:r[i]}))}return n},parseOpera10:function(e){for(var t=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,r=e.stacktrace.split("\n"),n=[],i=0,o=r.length;i<o;i+=2){var a=t.exec(r[i]);a&&n.push(new g({functionName:a[3]||void 0,fileName:a[2],lineNumber:a[1],source:r[i]}))}return n},parseOpera11:function(e){return e.stack.split("\n").filter(function(e){return!!e.match(v)&&!e.match(/^Error created at/)},this).map(function(e){var t,r=e.split("@"),n=this.extractLocation(r.pop()),i=r.shift()||"",o=i.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0;i.match(/\(([^)]*)\)/)&&(t=i.replace(/^[^(]+\(([^)]*)\)$/,"$1"));var a=void 0===t||"[arguments not available]"===t?void 0:t.split(",");return new g({functionName:o,args:a,fileName:n[0],lineNumber:n[1],columnNumber:n[2],source:e})},this)}});let S="object"==typeof h&&"object"==typeof h.versions&&"string"==typeof h.versions.node&&!1;if(o=S?function(e,t){return r.resolve(t||".",e)}:function(e,t){return void 0===t&&(t=location),new URL(e,t).toString()},S||(a="/"),s=S?async function(e,r){if(e.startsWith("file://")&&(e=e.slice(7)),e.includes("://")){let r=await t(e);if(!r.ok)throw Error(`Failed to load '${e}': request failed.`);return new Uint8Array(await r.arrayBuffer())}{let t=await i.readFile(e);return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}}:async function(e,t){let r=new URL(e,location),n=await fetch(r,t?{integrity:t}:{});if(!n.ok)throw Error(`Failed to load '${r}': request failed.`);return new Uint8Array(await n.arrayBuffer())},globalThis.document)c=async e=>await import(e);else if(globalThis.importScripts)c=async e=>{try{globalThis.importScripts(e)}catch(t){if(!(t instanceof TypeError))throw t;await import(e)}};else{if(!S)throw Error("Cannot determine runtime environment");c=async function(r){r.startsWith("file://")&&(r=r.slice(7)),r.includes("://")?n.runInThisContext(await (await t(r)).text()):await import(e.pathToFileURL(r).href)}}let k=async e=>{let t=[];await async function e(r){var n,i;try{for(var o,a=function(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,i){!function(e,t,r,n){Promise.resolve(n).then(function(t){e({value:t,done:r})},t)}(n,i,(t=e[r](t)).done,t.value)})}}}(r.values());!(o=await a.next()).done;){let r=o.value;t.push(r),"directory"===r.kind&&await e(r)}}catch(e){n={error:e}}finally{try{o&&!o.done&&(i=a.return)&&await i.call(a)}finally{if(n)throw n.error}}}(e);let r=new Map;for(let n of(r.set(".",e),t)){let t=(await e.resolve(n)).join("/");r.set(t,n)}return r};async function O(u={}){let d,f,p,m,y,h;await async function(){if(!S||(e=(await l.e(692).then(l.t.bind(l,40692,19))).default,i=await l.e(6406).then(l.t.bind(l,46406,19)),t=globalThis.fetch?fetch:(await l.e(3200).then(l.t.bind(l,23200,19))).default,n=(await l.e(1772).then(l.t.bind(l,81772,19))).default,a=(r=await l.e(50).then(l.t.bind(l,60050,19))).sep,"undefined"!=typeof require))return;let o={fs:await l.e(2488).then(l.t.bind(l,52488,19)),crypto:await l.e(949).then(l.t.bind(l,60949,19)),ws:await l.e(5401).then(l.t.bind(l,5401,19)),child_process:await l.e(7950).then(l.t.bind(l,57950,19))};globalThis.require=function(e){return o[e]}}();let g=u.indexURL||function(){let e;if("string"==typeof __dirname)return __dirname;try{throw Error()}catch(t){e=t}let t=E.parse(e)[0].fileName,r=t.lastIndexOf(a);if(-1===r)throw Error("Could not extract indexURL path from pyodide module location");return t.slice(0,r)}();(g=o(g)).endsWith("/")||(g+="/"),u.indexURL=g;let v={fullStdLib:!1,jsglobals:globalThis,stdin:globalThis.prompt?globalThis.prompt:void 0,homedir:"/home/pyodide",lockFileURL:g+"repodata.json",args:[],_node_mounts:[],packageCacheDir:g},b=Object.assign(v,u),w=d={noImageDecoding:!0,noAudioDecoding:!0,noWasmDecoding:!1,preRun:[],quit:(e,t)=>{throw d.exited={status:e,toThrow:t},t}};w.print=b.stdout,w.printErr=b.stderr,w.arguments=b.args;let _={config:b};w.API=_,function(e,t){let r=s(t);e.preRun.push(()=>{let t=e._py_version_major(),n=e._py_version_minor();e.FS.mkdirTree("/lib"),e.FS.mkdirTree(`/lib/python${t}.${n}/site-packages`),e.addRunDependency("install-stdlib"),r.then(r=>{e.FS.writeFile(`/lib/python${t}${n}.zip`,r)}).catch(e=>{console.error("Error occurred while installing the standard library:"),console.error(e)}).finally(()=>{e.removeRunDependency("install-stdlib")})})}(w,null!=b.stdLibURL?b.stdLibURL:b.indexURL+"python_stdlib.zip"),function(e,t){e.preRun.push(function(){try{e.FS.mkdirTree(t)}catch(e){console.error(`Error occurred while making a home directory '${t}':`),console.error(e),console.error("Using '/' for a home directory instead"),t="/"}e.ENV.HOME=t,e.FS.chdir(t)})}(w,b.homedir),function(e,t){e.preRun.push(()=>{for(let r of t)e.FS.mkdirTree(r),e.FS.mount(e.FS.filesystems.NODEFS,{root:r},r)})}(w,b._node_mounts),w.preRun.push(()=>(function(e){let t=e.FS,r=e.FS.filesystems.MEMFS,n=e.PATH,i={DIR_MODE:16895,FILE_MODE:33279,mount:function(e){if(!e.opts.fileSystemHandle)throw Error("opts.fileSystemHandle is required");return r.mount.apply(null,arguments)},syncfs:async(e,t,r)=>{try{let n=i.getLocalSet(e),o=await i.getRemoteSet(e),a=t?o:n,s=t?n:o;await i.reconcile(e,a,s),r(null)}catch(e){r(e)}},getLocalSet:e=>{let r=Object.create(null);function i(e){return"."!==e&&".."!==e}function o(e){return t=>n.join2(e,t)}let a=t.readdir(e.mountpoint).filter(i).map(o(e.mountpoint));for(;a.length;){let e=a.pop(),n=t.stat(e);t.isDir(n.mode)&&a.push.apply(a,t.readdir(e).filter(i).map(o(e))),r[e]={timestamp:n.mtime,mode:n.mode}}return{type:"local",entries:r}},getRemoteSet:async e=>{let t=Object.create(null),r=await k(e.opts.fileSystemHandle);for(let[o,a]of r)"."!==o&&(t[n.join2(e.mountpoint,o)]={timestamp:"file"===a.kind?(await a.getFile()).lastModifiedDate:new Date,mode:"file"===a.kind?i.FILE_MODE:i.DIR_MODE});return{type:"remote",entries:t,handles:r}},loadLocalEntry:e=>{let n=t.lookupPath(e).node,i=t.stat(e);if(t.isDir(i.mode))return{timestamp:i.mtime,mode:i.mode};if(t.isFile(i.mode))return n.contents=r.getFileDataAsTypedArray(n),{timestamp:i.mtime,mode:i.mode,contents:n.contents};throw Error("node type not supported")},storeLocalEntry:(e,r)=>{if(t.isDir(r.mode))t.mkdirTree(e,r.mode);else{if(!t.isFile(r.mode))throw Error("node type not supported");t.writeFile(e,r.contents,{canOwn:!0})}t.chmod(e,r.mode),t.utime(e,r.timestamp,r.timestamp)},removeLocalEntry:e=>{var r=t.stat(e);t.isDir(r.mode)?t.rmdir(e):t.isFile(r.mode)&&t.unlink(e)},loadRemoteEntry:async e=>{if("file"===e.kind){let t=await e.getFile();return{contents:new Uint8Array(await t.arrayBuffer()),mode:i.FILE_MODE,timestamp:t.lastModifiedDate}}if("directory"===e.kind)return{mode:i.DIR_MODE,timestamp:new Date};throw Error("unknown kind: "+e.kind)},storeRemoteEntry:async(e,r,i)=>{let o=e.get(n.dirname(r)),a=t.isFile(i.mode)?await o.getFileHandle(n.basename(r),{create:!0}):await o.getDirectoryHandle(n.basename(r),{create:!0});if("file"===a.kind){let e=await a.createWritable();await e.write(i.contents),await e.close()}e.set(r,a)},removeRemoteEntry:async(e,t)=>{let r=e.get(n.dirname(t));await r.removeEntry(n.basename(t)),e.delete(t)},reconcile:async(e,r,o)=>{let a=0,s=[];Object.keys(r.entries).forEach(function(e){let n=r.entries[e],i=o.entries[e];(!i||t.isFile(n.mode)&&n.timestamp.getTime()>i.timestamp.getTime())&&(s.push(e),a++)}),s.sort();let l=[];if(Object.keys(o.entries).forEach(function(e){r.entries[e]||(l.push(e),a++)}),l.sort().reverse(),!a)return;let c="remote"===r.type?r.handles:o.handles;for(let t of s){let r=n.normalize(t.replace(e.mountpoint,"/")).substring(1);if("local"===o.type){let e=c.get(r),n=await i.loadRemoteEntry(e);i.storeLocalEntry(t,n)}else{let e=i.loadLocalEntry(t);await i.storeRemoteEntry(c,r,e)}}for(let t of l)if("local"===o.type)i.removeLocalEntry(t);else{let r=n.normalize(t.replace(e.mountpoint,"/")).substring(1);await i.removeRemoteEntry(c,r)}}};e.FS.filesystems.NATIVEFS_ASYNC=i})(w));let O=new Promise(e=>w.postRun=e);if(w.locateFile=e=>b.indexURL+e,"function"!=typeof _createPyodideModule){let e=`${b.indexURL}pyodide.asm.js`;await c(e)}if(await _createPyodideModule(w),await O,w.exited)throw w.exited.toThrow;if("0.23.4"!==_.version)throw Error(`Pyodide version does not match: '0.23.4' <==> '${_.version}'. If you updated the Pyodide version, make sure you also updated the 'indexURL' parameter passed to loadPyodide.`);w.locateFile=e=>{throw Error("Didn't expect to load any more file_packager files!")};let[T,x]=_.rawRun("import _pyodide_core");T&&w.API.fatal_loading_error("Failed to import _pyodide_core\n",x);let R=(_.runPythonInternal_dict=_._pyodide._base.eval_code("{}"),_.importlib=_.runPythonInternal("import importlib; importlib"),f=_.importlib.import_module,_.sys=f("sys"),_.sys.path.insert(0,b.homedir),_.os=f("os"),p=_.runPythonInternal("import __main__; __main__.__dict__"),m=_.runPythonInternal("import builtins; builtins.__dict__"),_.globals=new Proxy(p,{get:(e,t)=>"get"===t?t=>{let r=e.get(t);return void 0===r&&(r=m.get(t)),r}:"has"===t?t=>e.has(t)||m.has(t):Reflect.get(e,t)}),(y=_._pyodide._importhook).register_js_finder.callKwargs({hook:function(e){"__all__"in e||Object.defineProperty(e,"__all__",{get:()=>h.toPy(Object.getOwnPropertyNames(e).filter(e=>"__all__"!==e)),enumerable:!1,configurable:!0})}}),y.register_js_module("js",b.jsglobals),h=_.makePublicAPI(),y.register_js_module("pyodide_js",h),_.pyodide_py=f("pyodide"),_.pyodide_code=f("pyodide.code"),_.pyodide_ffi=f("pyodide.ffi"),_.package_loader=f("pyodide._package_loader"),_.sitepackages=_.package_loader.SITE_PACKAGES.__str__(),_.dsodir=_.package_loader.DSO_DIR.__str__(),_.defaultLdLibraryPath=[_.dsodir,_.sitepackages],_.os.environ.__setitem__("LD_LIBRARY_PATH",_.defaultLdLibraryPath.join(":")),h.pyodide_py=_.pyodide_py,h.globals=_.globals,h);if(R.version.includes("dev")||_.setCdnUrl(`https://cdn.jsdelivr.net/pyodide/v${R.version}/full/`),await _.packageIndexReady,_._pyodide._importhook.register_module_not_found_hook(_._import_name_to_package_name,_.repodata_unvendored_stdlibs_and_test),"0.23.4"!==_.repodata_info.version)throw Error("Lock file version doesn't match Pyodide version");return _.package_loader.init_loaded_packages(),b.fullStdLib&&await R.loadPackage(_.repodata_unvendored_stdlibs),_.initializeStreams(b.stdin,b.stdout,b.stderr),R}/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let T=Symbol("Comlink.proxy"),x=Symbol("Comlink.endpoint"),R=Symbol("Comlink.releaseProxy"),L=Symbol("Comlink.finalizer"),N=Symbol("Comlink.thrown"),j=e=>"object"==typeof e&&null!==e||"function"==typeof e,P=new Map([["proxy",{canHandle:e=>j(e)&&e[T],serialize(e){let{port1:t,port2:r}=new MessageChannel;return A(e,t),[r,[r]]},deserialize:e=>(e.start(),function e(t,r=[],n=function(){}){let i=!1,o=new Proxy(n,{get(n,a){if(F(i),a===R)return()=>{U&&U.unregister(o),M(t),i=!0};if("then"===a){if(0===r.length)return{then:()=>o};let e=q(t,{type:"GET",path:r.map(e=>e.toString())}).then(z);return e.then.bind(e)}return e(t,[...r,a])},set(e,n,o){F(i);let[a,s]=W(o);return q(t,{type:"SET",path:[...r,n].map(e=>e.toString()),value:a},s).then(z)},apply(n,o,a){F(i);let s=r[r.length-1];if(s===x)return q(t,{type:"ENDPOINT"}).then(z);if("bind"===s)return e(t,r.slice(0,-1));let[l,c]=C(a);return q(t,{type:"APPLY",path:r.map(e=>e.toString()),argumentList:l},c).then(z)},construct(e,n){F(i);let[o,a]=C(n);return q(t,{type:"CONSTRUCT",path:r.map(e=>e.toString()),argumentList:o},a).then(z)}});return function(e,t){let r=(D.get(t)||0)+1;D.set(t,r),U&&U.register(e,t,e)}(o,t),o}(e,[],void 0))}],["throw",{canHandle:e=>j(e)&&N in e,serialize:({value:e})=>[e instanceof Error?{isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:{isError:!1,value:e},[]],deserialize(e){if(e.isError)throw Object.assign(Error(e.value.message),e.value);throw e.value}}]]);function A(e,t=globalThis,r=["*"]){t.addEventListener("message",function n(i){let o;if(!i||!i.data)return;if(!function(e,t){for(let r of e)if(t===r||"*"===r||r instanceof RegExp&&r.test(t))return!0;return!1}(r,i.origin)){console.warn(`Invalid origin '${i.origin}' for comlink proxy`);return}let{id:a,type:s,path:l}=Object.assign({path:[]},i.data),c=(i.data.argumentList||[]).map(z);try{var u;let t=l.slice(0,-1).reduce((e,t)=>e[t],e),r=l.reduce((e,t)=>e[t],e);switch(s){case"GET":o=r;break;case"SET":t[l.slice(-1)[0]]=z(i.data.value),o=!0;break;case"APPLY":o=r.apply(t,c);break;case"CONSTRUCT":{let e=new r(...c);o=Object.assign(e,{[T]:!0})}break;case"ENDPOINT":{let{port1:t,port2:r}=new MessageChannel;A(e,r),u=[t],$.set(t,u),o=t}break;case"RELEASE":o=void 0;break;default:return}}catch(e){o={value:e,[N]:0}}Promise.resolve(o).catch(e=>({value:e,[N]:0})).then(r=>{let[i,o]=W(r);t.postMessage(Object.assign(Object.assign({},i),{id:a}),o),"RELEASE"===s&&(t.removeEventListener("message",n),I(t),L in e&&"function"==typeof e[L]&&e[L]())}).catch(e=>{let[r,n]=W({value:TypeError("Unserializable return value"),[N]:0});t.postMessage(Object.assign(Object.assign({},r),{id:a}),n)})}),t.start&&t.start()}function I(e){"MessagePort"===e.constructor.name&&e.close()}function F(e){if(e)throw Error("Proxy has been released and is not useable")}function M(e){return q(e,{type:"RELEASE"}).then(()=>{I(e)})}let D=new WeakMap,U="FinalizationRegistry"in globalThis&&new FinalizationRegistry(e=>{let t=(D.get(e)||0)-1;D.set(e,t),0===t&&M(e)});function C(e){var t;let r=e.map(W);return[r.map(e=>e[0]),(t=r.map(e=>e[1]),Array.prototype.concat.apply([],t))]}let $=new WeakMap;function W(e){for(let[t,r]of P)if(r.canHandle(e)){let[n,i]=r.serialize(e);return[{type:"HANDLER",name:t,value:n},i]}return[{type:"RAW",value:e},$.get(e)||[]]}function z(e){switch(e.type){case"HANDLER":return P.get(e.name).deserialize(e.value);case"RAW":return e.value}}function q(e,t,r){return new Promise(n=>{let i=[,,,,].fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-");e.addEventListener("message",function t(r){r.data&&r.data.id&&r.data.id===i&&(e.removeEventListener("message",t),n(r.data))}),e.start&&e.start(),e.postMessage(Object.assign({id:i},t),r)})}let H=async()=>{if(!d){console.error("failed pyodide initialization. channel not set yet");return}if(f||console.warn("no inputRequester was set"),!p&&!m){console.error("failed pyodide initialization. stdout not set yet");return}console.log("starting to load pyodide..."),u=await O({indexURL:"https://cdn.jsdelivr.net/pyodide/v0.23.4/full/"}),console.log("done loading pyodide..."),void 0!==p?u.setStdout({raw:e=>{p(e)}}):u.setStdout({batched:e=>{m(e)}}),u.setStdin({stdin:()=>{if(f){let e=(0,y.uuidv4)();f(d,e),console.log("pyodide trying to read from stdin. waiting for message id",e);let{message:t}=(0,y.readMessage)(d,e);return t}console.error("no inputRequester available");let e="<input error>";if(p)for(let t of e+"\n")p(t.charCodeAt(0));else m&&m(e);return e}}),u.setStderr({batched:e=>{console.error(e)}})},B=async e=>{if(!u){console.error("pyodide not loaded yet");return}try{return await u.runPythonAsync(e)}catch(e){return e.message}};A({setChannel:e=>{console.log("received channel in worker",e),d=e},setInputRequester:e=>{console.log("received inputRequester in worker",e),f=e},setRawStdout:e=>{console.log("received rawStdout in worker",e),p=e},setBatchStdout:e=>{console.log("received batchStdout in worker",e),m=e},initializePyodide:H,runPython:B})}(),_N_E={}}();