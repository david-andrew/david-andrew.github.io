"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9192],{77705:function(e,t,r){r.r(t),r.d(t,{Code:function(){return p},CodeBlock:function(){return x},CodeEditor:function(){return g},PlaintextBlock:function(){return h}});var n=r(57437),l=r(35934),s=r(57518),i=r(6374),a=r(34155),o=r(43490),c=r(98116),u=r(2265),d=r(74769),m=r(93006);l.Z.registerLanguage("bash",s.Z),l.Z.registerLanguage("python",i.Z);let f={hybrid:a.Z,railscasts:o.Z},h=e=>{let{text:t,className:r=""}=e;return(0,n.jsx)("div",{className:"mb-6",children:(0,n.jsx)(m.HorizontalScroll,{className:(0,d.m6)("w-full",r),children:(0,n.jsx)("div",{className:"w-full rounded-md",children:(0,n.jsx)("div",{className:"p-2 whitespace-pre font-mono",children:t})})})})},x=e=>{let{language:t,style:r,code:s,className:i=""}=e;return(0,n.jsx)("div",{className:(0,d.m6)("rounded-md overflow-hidden mb-6",i),children:(0,n.jsx)(l.Z,{language:t,style:r?f[r]:o.Z,children:s})})},p=e=>{let{language:t,style:r,code:s}=e,i=r?f[r]:o.Z,a=i.hljs.background;return(0,n.jsx)("span",{className:"rounded-md",children:(0,n.jsx)(l.Z,{language:t,style:i,customStyle:{display:"inline",padding:"0.125rem 0.25rem",margin:"0 0.125rem",backgroundColor:a,border:"1px solid #444444",borderRadius:"inherit"},children:s})})},g=e=>{let{text:t,setText:r,readonly:l,editable:s,basicSetup:i={},theme:a,language:o,onFocus:d,className:m}=e,f=(0,u.useRef)(null),{setContainer:h}=(0,c.Uq)({container:f.current,theme:a,value:t,readOnly:l,editable:s,extensions:[o],onChange:e=>{null==r||r(e)},basicSetup:{lineNumbers:!1,foldGutter:!1,drawSelection:!1,allowMultipleSelections:!1,highlightActiveLine:!0,highlightSelectionMatches:!1,dropCursor:!1,indentOnInput:!1,rectangularSelection:!1,tabSize:4,closeBracketsKeymap:!1,searchKeymap:!1,foldKeymap:!1,completionKeymap:!1,lintKeymap:!1,autocompletion:!1,...i}});return(0,u.useEffect)(()=>{f.current&&h(f.current)}),(0,n.jsx)("div",{className:m,onFocus:d,children:(0,n.jsx)("div",{ref:f})})}},88859:function(e,t,r){r.d(t,{E:function(){return f},y:function(){return m}});var n=r(30684),l=r(25567),s=r(35209);let i=0,a=e=>{if(e.startsWith("\\u")||e.startsWith("\\U")||e.startsWith("\\x")||e.startsWith("\\X")){let t=2;for(;t<e.length&&/[0-9a-fA-F]/.test(e[t]);)t++;return{type:"number",start:0,end:t}}},o=e=>{if(e.startsWith("\\"))return"n"==e[1]||"r"==e[1]||"t"==e[1]||"v"==e[1]||"b"==e[1]||"f"==e[1]||e[1],{type:"escape",start:0,end:2}},c={'"':'"',"'":"'","{":"}"},u=[e=>{let t=0;if(e.startsWith("/{")&&(i+=1,t=2),0!=i){for(;i>0&&t<e.length;){if(e.startsWith("/{",t)){i++,t+=2;continue}if(e.startsWith("}/",t)){i--,t+=2;continue}t++}return{type:"comment",start:0,end:t}}},e=>{if(e.startsWith("//")){let t=2;for(;t<e.length&&"\n"!=e[t];)t++;return{type:"comment",start:0,end:t}}},e=>e.startsWith("ϵ")?{type:"null",start:0,end:1}:e.startsWith("\\e")||e.startsWith("''")||e.startsWith('""')||e.startsWith("{}")?{type:"null",start:0,end:2}:void 0,e=>e.startsWith("\\u")||e.startsWith("\\U")||e.startsWith("\\x")||e.startsWith("\\X")?{type:"unit",start:0,end:2}:e.startsWith("V")||e.startsWith("U")||e.startsWith("ξ")?{type:"unit",start:0,end:1}:void 0,a,e=>{let t=0;for(;t<e.length&&/[0-9]/.test(e[t]);)t++;if(t>0)return{type:"number",start:0,end:t}},e=>{if(e.startsWith("#")){let t=1;for(;t<e.length&&/[a-zA-Z0-9_]/.test(e[t]);)t++;return{type:"tagName",start:0,end:t}}},e=>{if(e.startsWith("[")){let t=[{type:"bracket",start:0,end:1}],r=1;for(;r<e.length;){let n;if("\n"==e[r]||" "==e[r]){r++;continue}if((n=a(e.slice(r)))||(n=o(e.slice(r)))){n.start+=r,n.end+=r,t.push(n),r=n.end;continue}if("-"==e[r]){t.push({type:"operator",start:r,end:r+1}),r++;continue}if("["==e[r]&&(t.push({type:"invalid",start:r,end:r+1}),r++),"]"==e[r])return t.push({type:"bracket",start:r,end:r+1}),t;t.push({type:"literal",start:r,end:r+1}),r++}}},e=>{let t;if(e.length<=2)return;let r=e[0];if(!('"'==r||"'"==r||"{"==r))return;let n=c[r],l=1,s=[{type:"literal",start:0,end:1}];for(;l<e.length;){if((t=a(e.slice(l)))||(t=o(e.slice(l)))){t.start+=l,t.end+=l,s.push(t),l=t.end;continue}if(e[l]==n)return[...s,{type:"literal",start:l,end:l+1}];s.push({type:"literal",start:l,end:l+1}),l++}},e=>{if(e.startsWith("(")||e.startsWith(")"))return{type:"paren",start:0,end:1}},e=>{if(".*+?~".includes(e[0]))return{type:"logicOperator",start:0,end:1}},e=>{if("=|-/>".includes(e[0]))return{type:"operator",start:0,end:1}},e=>{if(";"==e[0])return{type:"punctuation",start:0,end:1}}],d=e=>{let t=[],r=0;for(;r<e.length;){let n=u.reduce((t,n)=>t||n(e.slice(r)),void 0);n?Array.isArray(n)?(t.push(...n.map(e=>(e.start+=r,e.end+=r,e))),r=n[n.length-1].end):(n.start+=r,n.end+=r,t.push(n),r=n.end):(t.push({type:"invalid",start:r,end:r+1}),r++)}return t},m=()=>new n.ri(n.il.define({token:(e,t)=>{if(t.index>=t.tokens.length&&(t.tokens=d(e.string),t.index=0),t.index<t.tokens.length){let r=t.tokens[t.index++];return e.pos=r.end,r.type}return e.skipToEnd(),null},startState:()=>({tokens:[],index:0})})),f=(0,l.j)({theme:"light",settings:{background:"#232323",caret:"#AEAFAD",selection:"#356282",selectionMatch:"#00ff00",lineHighlight:"#333333"},styles:[{tag:s.pJ.comment,color:"#787b80"},{tag:s.pJ.literal,color:"#ce9178"},{tag:s.pJ.bracket,color:"#179fff"},{tag:s.pJ.escape,color:"#d7ba7d"},{tag:s.pJ.number,color:"#b5cea8"},{tag:s.pJ.tagName,color:"#9cdcfe"},{tag:s.pJ.null,color:"#00ff00"},{tag:s.pJ.unit,color:"#ff00ff"},{tag:s.pJ.paren,color:"#ffd700"},{tag:s.pJ.operator,color:"#ffffff"},{tag:s.pJ.punctuation,color:"#ffffff"},{tag:s.pJ.logicOperator,color:"#d44c4c"},{tag:s.pJ.invalid,color:"#ff0000"}]})},13591:function(e,t,r){r.d(t,{H1:function(){return c},H3:function(){return u},H4:function(){return d},OL:function(){return x},P:function(){return f},XZ:function(){return a},YS:function(){return h},iz:function(){return o},rU:function(){return m}});var n=r(57437),l=r(61396),s=r.n(l),i=r(74769);let a=e=>{let{label:t,isChecked:r,onChange:l,className:s}=e;return(0,n.jsxs)("div",{className:(0,i.m6)("flex items-center",s),children:[(0,n.jsx)("input",{type:"checkbox",id:"custom-checkbox",className:"hidden",checked:r,onChange:l}),(0,n.jsx)("label",{htmlFor:"custom-checkbox",className:" w-6 h-6 border-2 border-gray-300 rounded mr-2 cursor-pointer  bg-white  hover:border-gray-400 flex justify-center items-center ",children:r&&(0,n.jsx)("svg",{className:"w-4 h-4 mx-auto my-auto",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"black",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"4",children:(0,n.jsx)("polyline",{points:"20 6 9 17 4 12"})})}),t]})},o=e=>{let{className:t=""}=e;return(0,n.jsx)("hr",{className:(0,i.m6)("h-px my-4 bg-gray-500 border-0",t)})};function c(e){let{children:t,className:r="",...l}=e;return(0,n.jsx)("h1",{className:(0,i.m6)("text-4xl my-6 font-quadon",r),...l,children:t})}function u(e){let{children:t,className:r="",...l}=e;return(0,n.jsx)("h3",{className:(0,i.m6)("text-2xl mt-6 mb-2 font-quadon",r),...l,children:t})}function d(e){let{children:t,className:r="",...l}=e;return(0,n.jsx)("h3",{className:(0,i.m6)("text-xl mt-4 mb-2 font-quadon ",r),...l,children:t})}let m=e=>{let{href:t,children:r,className:l="",...a}=e;return(0,n.jsx)(s(),{href:t,className:(0,i.m6)("text-blue-400 hover:text-blue-500 font-gentona text-xl",l),...a,children:r||t.toString()})},f=e=>{let{children:t,className:r="",...l}=e;return(0,n.jsx)("p",{className:(0,i.m6)("mb-6 text-xl font-gentona text-justify",r),...l,children:t})},h=e=>{let{children:t,className:r="",...l}=e;return(0,n.jsx)("p",{className:(0,i.m6)("w-full my-4 text-xl font-gentona text-center",r),...l,children:t})},x=e=>{let{children:t,className:r="",...l}=e;return(0,n.jsx)("ol",{className:(0,i.m6)("list-decimal mb-6 pl-10 text-xl font-gentona",r),...l,children:t})}},93006:function(e,t,r){r.r(t),r.d(t,{DewyLiveParser:function(){return v},GrammarCodeBlock:function(){return y},HorizontalScroll:function(){return w},useDelayed:function(){return x},useStringBuffer:function(){return c}});var n=r(57437),l=r(13591),s=r(77705),i=r(88859),a=r(2265),o=r(74769);let c=()=>{let e=(0,a.useRef)(),[t,r]=(0,a.useState)();return[t,t=>{void 0===e.current&&(e.current=[]),e.current.push(t)},()=>{var t;r(null===(t=e.current)||void 0===t?void 0:t.join("\n"))},()=>{e.current=void 0,r(void 0)}]},u={"Parse Forest":"forest","RNGLR Table":"table","Item Sets":"grammarItems","Meta Scanner":"metascanner","Meta AST":"metaast",CFG:"metaparser","First Sets":"grammarFirsts"},d=Object.keys(u),m=d.map(e=>u[e]),f=e=>{var t,r;if(void 0===e)return;let[n,l,s,i,a,o,c]=e.split("".concat("<<<<<<<<<<<<")),[u,d]=null!==(t=null==i?void 0:i.split("itemsets:\n"))&&void 0!==t?t:[void 0,void 0],m=e.indexOf("ERROR: "),f=m>=0?e.slice(m):void 0,h=(null!==(r=null==o?void 0:o.indexOf("failure"))&&void 0!==r?r:-1)>=0;return{metascanner:null==n?void 0:n.trimEnd(),metaast:null==l?void 0:l.trimEnd(),metaparser:null==s?void 0:s.trimEnd(),grammarFirsts:null==u?void 0:u.slice(12).trimEnd(),grammarItems:null==d?void 0:d.trimEnd(),table:null==a?void 0:a.trimEnd(),result:null==o?void 0:o.trimEnd(),forest:h?"Parse failed":null==c?void 0:c.trimEnd(),grammarError:f}},h=(e,t)=>{let[r,n,l,s]=c(),i=(0,a.useRef)(null),o=(0,a.useCallback)(async()=>{let r="/wasm/dewy_old/dewy_parser_wrapper",s="".concat(r,".js");try{let a=await fetch(s),o=await fetch("".concat(r,".wasm"));if(!a.ok||!o.ok)throw Error("Failed to find script or WASM file at ".concat(r));i.current=document.createElement("script"),i.current.src=s,i.current.async=!0,i.current.onload=()=>{Module({onRuntimeInitialized:()=>{console.log("onRuntimeInitialized")},print:n}).then(r=>{let n=r.cwrap("dewy_parser","void",["string","string"]);try{n(e,t)}catch(e){console.error(e)}finally{l()}})},document.body.appendChild(i.current)}catch(e){console.error(e),l()}},[e,t]);(0,a.useEffect)(()=>(o(),()=>{i.current&&(document.body.removeChild(i.current),i.current=null),s()}),[e,t]);let u=r?f(r):void 0;return u},x=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,[r,n]=(0,a.useState)(e),l=(0,a.useRef)();return(0,a.useEffect)(()=>{void 0!==l.current&&(window.clearTimeout(l.current),l.current=void 0),l.current=window.setTimeout(()=>{n(e),l.current=void 0},t)},[t,...e]),r},p=e=>{let{text:t,setText:r,onFocus:l,className:s=""}=e,i=(0,a.useRef)(null),c=()=>{if(i.current){i.current.style.height="0px";let e=i.current.scrollHeight;i.current.style.height=e+"px"}};return(0,a.useEffect)(()=>(c(),window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)),[t]),(0,n.jsx)("textarea",{ref:i,className:(0,o.m6)("hide-h-scrollbar overflow-y-hidden font-mono resize-none overflow-x-auto whitespace-pre outline outline-1 outline-[#808080] focus:outline-2 focus:outline-white px-0.5",s),style:{minHeight:"1em"},value:t,spellCheck:!1,onChange:e=>{r(e.target.value)},onFocus:l})},g=e=>{let{title:t,children:r,defaultOpen:l=!1}=e,[s,i]=(0,a.useState)(l),c=s?"":"-rotate-90";return(0,n.jsxs)("div",{className:"my-2",children:[(0,n.jsxs)("button",{className:"flex items-center w-full text-left",onClick:()=>i(!s),children:[(0,n.jsx)("svg",{className:(0,o.m6)("h-4 w-4 mr-2 transform transition-transform",c),fill:"currentColor",viewBox:"0 0 96.154 96.154",children:(0,n.jsx)("path",{d:"M0.561,20.971l45.951,57.605c0.76,0.951,2.367,0.951,3.127,0l45.956-57.609c0.547-0.689,0.709-1.716,0.414-2.61 c-0.061-0.187-0.129-0.33-0.186-0.437c-0.351-0.65-1.025-1.056-1.765-1.056H2.093c-0.736,0-1.414,0.405-1.762,1.056 c-0.059,0.109-0.127,0.253-0.184,0.426C-0.15,19.251,0.011,20.28,0.561,20.971z"})}),(0,n.jsx)("span",{className:"font-quadon text-xl",children:t})]}),s&&(0,n.jsx)("div",{className:"py-2",children:r})]})},v=e=>{let{grammars:t,initial_idx:r=0}=e;if(t.length<r)throw Error("initial_idx must be less than the number of grammars. initial_idx: ".concat(r,", grammars.length: ").concat(t.length));let[c,u]=(0,a.useState)(!1),[f,v]=(0,a.useState)(0),[y,j]=(0,a.useState)(t[r].source),[N,k]=(0,a.useState)(t[r].grammar),E=()=>{c||u(!0)},F=e=>{j(e),c||u(!0)},S=e=>{k(e),c||u(!0)},[W,C]=x([N,y]),H=h(W,C),J=c&&(null==H?void 0:H.result)==="failure",O=c&&(null==H?void 0:H.grammarError)!==void 0,R=c?"gap-x-[2%]":"gap-x-[5%]",L=c?"grid-cols-[4fr,0fr,5fr]":"grid-cols-[1fr,1fr]";return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:(0,o.m6)("max-md:hidden grid w-full",R,L),children:[(0,n.jsx)("div",{className:"flex flex-col justify-end",children:(0,n.jsx)(l.H4,{className:"mt-0",children:"Source Input"})}),c&&(0,n.jsx)(l.H4,{className:"mt-0 select-none",children:"\xa0"}),(0,n.jsx)("div",{className:"flex flex-col justify-end",children:(0,n.jsx)(l.H4,{className:"mt-0",children:"Grammar Specification"})}),(0,n.jsx)(p,{className:(0,o.m6)("w-full bg-[#232323] text-xl",J?"outline-[#FF0000] focus:outline-[#FF0000]":""),text:y,setText:F,onFocus:E}),c&&(0,n.jsxs)("div",{className:"flex whitespace-nowrap font-mono h-min select-none",children:[(0,n.jsx)("span",{className:"text-xl pr-1",children:"<"}),(0,n.jsx)("span",{className:"text-lg outline outline-1 outline-white px-1",children:"edit me"}),(0,n.jsx)("span",{className:"text-xl pl-1",children:">"})]}),(0,n.jsx)(w,{className:"w-full",children:(0,n.jsx)(s.CodeEditor,{className:(0,o.m6)("w-full bg-[#232323] text-xl",O?"outline outline-[#FF0000] focus:outline-[#FF0000]":""),language:(0,i.y)(),theme:i.E,text:N,setText:S,onFocus:E})})]}),(0,n.jsxs)("div",{className:"md:hidden flex flex-col",children:[(0,n.jsx)(l.H4,{className:"mt-0",children:"Grammar Specification"}),(0,n.jsx)(w,{className:"w-full",children:(0,n.jsx)(s.CodeEditor,{className:(0,o.m6)("w-full bg-[#232323] text-lg hide-h-scrollbar overflow-y-hidden overflow-x-auto",O?"outline outline-[#FF0000] focus:outline-[#FF0000]":""),language:(0,i.y)(),theme:i.E,text:N,setText:S,onFocus:E})}),(0,n.jsx)(l.H4,{children:"Source Input"}),(0,n.jsx)(p,{className:(0,o.m6)("w-full bg-[#232323] text-lg",J?"outline-[#FF0000] focus:outline-[#FF0000]":""),text:y,setText:F,onFocus:E}),(0,n.jsx)("div",{children:"placeholder"})]}),!c&&(0,n.jsx)("div",{className:"flex flex-col justify-center pt-6",children:(0,n.jsx)("button",{className:"w-24 h-8 bg-[#232323] text-white rounded-md",onClick:()=>u(!c),children:"Try Me"})}),c&&(0,n.jsxs)("div",{className:"w-full my-6",children:[(0,n.jsx)(g,{title:"Examples",children:(0,n.jsx)("div",{className:"flex flex-row flex-wrap gap-2",children:t.map((e,t)=>(0,n.jsx)("button",{className:"font-gentona text-2xl px-4 h-[3.5em] whitespace-pre bg-[#232323] hover:bg-[#404040] text-white rounded-md",onClick:()=>{S(e.grammar),F(e.source)},children:b(e.label,22)},t))})}),(0,n.jsx)(g,{title:"Output",defaultOpen:!0,children:(0,n.jsxs)("div",{className:"flex flex-col w-full",children:[(0,n.jsx)("div",{className:"flex flex-row w-min max-w-full overflow-x-auto rounded-tl-md rounded-tr-md overflow-hidden border border-b-0 border-solid border-[#444444]",children:d.map((e,t)=>(0,n.jsx)("button",{className:"\n                                                font-gentona text-2xl px-4 h-[3.5em] whitespace-pre \n                                                ".concat(t!==f?"bg-[#000000] hover:bg-[#232323]":"bg-[#232323]","\n                                                text-white \n                                                border border-b-0 border-solid border-[#444444]\n                                            "),onClick:()=>{v(t)},children:b(e,22)},t))}),(0,n.jsx)("div",{className:"w-full bg-[#232323] text-white  rounded-b-md rounded-tr-md overflow-hidden border border-t-0 border-solid border-[#444444]",children:(0,n.jsx)("div",{className:"whitespace-pre w-full overflow-x-auto p-4 font-mono max-md:text-lg md:text-xl",children:H?H[m[f]]:"Loading..."})})]})})]})]})},b=(e,t)=>{if(e.length<=t)return e;let r=Math.floor(e.length/2),n=e.indexOf(" ",r),l=e.lastIndexOf(" ",r);if(-1===n&&-1===l)return e.slice(0,r)+"-\n-"+e.slice(r);if(-1===n)return e.slice(0,l)+"\n"+e.slice(l+1);if(-1===l)return e.slice(0,n)+"\n"+e.slice(n+1);let s=n-r,i=r-l;return s<i?e.slice(0,n)+"\n"+e.slice(n+1):e.slice(0,l)+"\n"+e.slice(l+1)},w=e=>{let{className:t="",children:r}=e;return(0,n.jsxs)("div",{className:(0,o.m6)("flex flex-row overflow-y-hidden overflow-x-auto",t),children:[" ",r]})},y=e=>{let{code:t}=e;return(0,n.jsx)(w,{className:"w-full",children:(0,n.jsx)(s.CodeEditor,{className:"w-full bg-[#232323] text-lg md:text-xl",language:(0,i.y)(),theme:i.E,text:t,readonly:!0,editable:!1,basicSetup:{highlightActiveLine:!1}})})}}}]);